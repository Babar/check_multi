<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 2.0  (Linux)">
	<META NAME="CREATED" CONTENT="20070623;8140300">
	<META NAME="CHANGED" CONTENT="20070623;18500400">
	<STYLE TYPE="text/css">
	<!--
		@page { size: 8.5in 11in; margin: 0.79in }
		TD P { margin-bottom: 0.08in }
		H1 { margin-top: 0.5in; margin-bottom: 0.08in; page-break-before: auto; page-break-after: auto }
		H1.western { font-family: "Albany AMT", sans-serif; font-size: 16pt }
		H1.cjk { font-family: "Arial"; font-size: 16pt }
		H1.ctl { font-family: "Arial"; font-size: 16pt }
		P { margin-bottom: 0.08in }
		H2 { margin-bottom: 0.08in }
		H2.western { font-family: "Albany AMT", sans-serif; font-size: 14pt; font-style: italic }
		H2.cjk { font-family: "HG Mincho Light J"; font-size: 14pt; font-style: italic }
		H2.ctl { font-family: "Arial Unicode MS"; font-size: 14pt; font-style: italic }
		H3 { margin-bottom: 0.08in }
		H3.western { font-family: "Albany AMT", sans-serif }
		H3.cjk { font-family: "HG Mincho Light J" }
		H3.ctl { font-family: "Arial Unicode MS" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1 CLASS="western">1 Was ist check_multi?</H1>
<P STYLE="margin-bottom: 0in">check_multi ist ein Wrapper-Plugin f&uuml;r
Nagios, das andere Plugins aufruft. Die Ergebniszeilen dieser Plugins
werden zusammengefasst, und der Returncode mit der groessten Severity
ist auch der Returncode des Wrapper-Plugins.</P>
<P STYLE="margin-bottom: 0in">Oder allgemeiner formuliert: Ein
sogenannter Parent-Check ruft beliebig viele Child-Checks auf und
gibt ihren Returncode sowie Output an den Nagios-Server weiter.</P>
<H1 CLASS="western">2 Hintergrund</H1>
<P STYLE="margin-bottom: 0in">Nagios 3 kann nicht nur eine, sondern
mehrere Zeilen Plugin-Output verarbeiten. Damit ist es moeglich, die
Ergebnisse von vielen Service-Checks zu sammeln und in einem
gemeinsamen Service zu verarbeiten. 
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">Dies hat Vorteile auf der
Performanceseite, so lassen sich mit einem einzelnen Nagios-Server
problemlos 20000 Checks auf 500 Hosts auswerten. 
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">Ausserdem kann so eine Trennung der
Nagios-Konfiguration in einen Kern-Bereich und einen Service-Bereich
umgesetzt werden. Damit koennen einzelne Administratoren-Gruppen fuer
ihre Konfigurationen selber verantwortlich sein, waehrend der Betrieb
des Nagios-Servers selber in der Verantwortung der
Nagios-Spezialisten liegt.</P>
<H1 CLASS="western">3 Konfiguration</H1>
<H2 CLASS="western">3.1 Command-Definition</H2>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>define command {</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>command_name check_multi</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>command_line
$USER1$/check_multi -f $ARG1$</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H2 CLASS="western">3.2 Service-Definition</H2>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>define service {</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>use local-service</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>name check_multi</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>host_name localhost</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>service_description
System_checks</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>check_command
check_multi!/usr/local/nagios/etc/multi.cmd</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>}</FONT></FONT></P>
<H2 CLASS="western">3.3 CMD-Datei</H2>
<P STYLE="margin-bottom: 0in">In einer an die nrpe.cfg angelehnten
Konfigurationsdatei werden die einzelnen Plugin-Aufrufe definiert. 
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">Format:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2># Kommentar</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>command[ &lt;TAG&gt; ] =
&lt;Plugin Aufruf&gt;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0in">Tag: frei definierbarer Begriff,
	der den Check bezeichnet und im <I>long plugin output </I>auftaucht.
	Damit ist er sowohl im extinfo.cgi als auch in der Notification
	sichtbar.<BR>Hier sollte ein Text gewaehlt werden, der die
	eindeutige Identifikation des Checks ermoeglicht.</P>
	<LI><P STYLE="margin-bottom: 0in; font-style: normal">Plugin Aufruf:
	Hier wird die Kommandozeile des Plugin-Aufrufs direkt uebernommen.
	Parameter-Spezifikationen a la $ARG1$ sind <B>nicht </B>moeglich.</P>
	<LI><P STYLE="margin-bottom: 0in; font-style: normal">Kommentare
	beginnen mit einem '#'</P>
	<LI><P STYLE="margin-bottom: 0in; font-style: normal">Leerzeilen
	koennen zur uebersichtlichen Darstellung beliebig haeufig eingefuegt
	werden.</P>
</UL>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">Beispiel:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2># multi.cmd</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>command[ system_load ] =
check_load -w 5,4,3 -c 10,8,6</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>command[ system_rootdisk ]
= check_disk -w 5% -c 2% -p /</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>command[ system_swap ] =
check_swap -w 90 -c 80</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>command[ system_syslog ] =
check_file_age -f /var/log/messages -c 86400 -C 0</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H2 CLASS="western">3.4 Plugin Aufruf</H2>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>check_multi -f &lt;config
file&gt; [-l libexec_path] [-n name] [-t timeout] [-o overall] [-p]
[-v level]</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>check_multi [-h | --help]</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>check_multi [-V |
--version]</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>Options:</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-f, --filename</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>config file which contains
commands to be executed</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>(file format follows nrpe
style)</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-l, --libexec</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>path to plugins, default:
/usr/local/nagios/libexec</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-n, --name</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>plugin name (shown in
output), default: MULTI</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-t, --timeout</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>timeout for one command,
default: 10</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-o, --overall</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>timeout for all commands,
default: 60</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-v, --verbose [&lt;level&gt;]</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>specify level of details
in output (level is binary coded)</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>default: 1</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>1: show STATE in front of
each line of plugin output</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>&quot;[16] OK system_ssh -
SSH OK - OpenSSH_4.4 (protocol 1.99)&quot;</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>2: mention service names
in plugin_output, e.g. </FONT></FONT>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>&quot;24 plugins checked,
1 critical (http), 0 warning, 0 unknown, 23 ok&quot;</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-p, --performance</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>gather performance data,
default: no</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-h, --help</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>print detailed help screen</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-V, --version</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>print version information</FONT></FONT></P>
<H2 CLASS="western">3.5 Parameter</H2>
<H3 CLASS="western">3.5.1Filename</H3>
<P>Filename bezeichnet den Namen/Pfad der Konfigurationsdatei fuer
die Plugin-Aufrufe. Hier ist ein relativer oder absoluter Pfad
moeglich, wobei dem absoluten Pfad immer der Vorzug gegeben werden
sollte. Wenn die Datei nicht gefunden wird, bricht das Plugin mit
einem Fehler ab.</P>
<P STYLE="margin-bottom: 0in; font-style: normal">Aufrufsyntax:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-f, --filename</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>config file which contains
commands to be executed</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>(file format follows nrpe
style)</FONT></FONT></P>
<H3 CLASS="western">3.5.2Libexec Pfad</H3>
<P>Libexec bezeichnet das Directory, in dem sich die Plugins
befinden. Damit ist es moeglich, in der CMD-Datei die Plugin-Aufrufe
ohne Pfad zu spezifizieren.</P>
<P STYLE="margin-bottom: 0in; font-style: normal">Aufrufsyntax:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-l, --libexec</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>path to plugins, default:
/usr/local/nagios/libexec</FONT></FONT></P>
<H3 CLASS="western">3.5.3Name</H3>
<P>Hier kann eine Art Tag fuer den Check selber spezifiziert werden.
Er taucht im Plugin Output auf un kann zum Beispiel dazu verwendet
werden, Plugins fuer verschiedene Abteilungen zu unterscheiden.</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2><I>SAP </I>CRITICAL - 32
plugins checked, 1 critical (test_sleep), 1 warning (nagios_system),
0 unknown, 30 ok</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">Default ist MULTI.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in; font-style: normal">Aufrufsyntax:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-n, --name</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>plugin name (shown in
output), default: MULTI</FONT></FONT></P>
<H3 CLASS="western">3.5.4Timeout</H3>
<P>Hier ist zu unterscheiden zwischen einem globalen Timeout fuer das
Parent-Plugin (vgl. --overall) und dem Timeout fuer die Child-Plugins
(--timeout). Default ist wie ueblich 10 Sekunden.</P>
<P STYLE="margin-bottom: 0in; font-style: normal">Aufrufsyntax:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-t, --timeout</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>timeout for one command,
default: 10</FONT></FONT></P>
<H3 CLASS="western">3.5.5Overall Timeout</H3>
<P>Im Unterschied zum Timeout fuer das Child-Plugin (vgl. 3.5.4)
spezifiziert das Overall Timeout die gesamte Ausfuehrungszeit aller
Child-Plugins. Default ist 60 Sekunden.</P>
<P>Achtung: wenn fuer die Ausfuehrung eines Child-Plugins weniger
Zeit ist als im Child-Timeout angegeben, verweigert das Parent-Plugin
die Ausfuehrung schon von vornherein und setzt den Status 'UNKNOWN'.
Nur so ist sicherzustellen, dass die Gesamt-Ausfuehrungszeit das
Overall Timeout nicht ueberschreitet.</P>
<P>Beispiel: Hier werden drei Child-Checks mit einem Child Timeout
von 2 Sekunden definiert. Das Overall Timeout betraegt auch 2
Sekunden. Jeder Child Check benoetigt 1 Sekunde. Da nach dem ersten
Check nur noch 1 Sekunde bis zum Overall Timeout uebrig ist, und
diese Zeit kuerzer ist als das Child Timeout von 2 Sekunden, bricht
das Parent Plugin die Ausfuehrung ab und setzt den Status 'Unknown'.</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>thinkpad$ ./check_multi -f
check_multi.cmd --timeout 2 --overall 2</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>MULTI OK - 3 plugins
checked, 0 critical, 0 warning, 2 unknown (test_sleep,test_sleep), 1
ok</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>[ 1] OK test_sleep - SLEEP
- OK: woken up after 1 seconds</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>[ 2] UNKNOWN test_sleep -
UNKNOWN - execution cancelled after global timeout (2s)</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>[ 3] UNKNOWN test_sleep -
UNKNOWN - execution cancelled after global timeout (2s)</FONT></FONT></P>
<H3 CLASS="western">3.5.6Verbosity</H3>
<P>Ueber den Verbosity Schalter -v kann die Ausgabe des Plugins
gesteuert werden. 
</P>
<P>Der optionale Parameter &lt;level&gt; ist binaer kodiert, default
ist hier 1.</P>
<P>Bisher implementierte Elemente:</P>
<DIV ALIGN=RIGHT>
	<TABLE WIDTH=663 BORDER=1 CELLPADDING=4 CELLSPACING=0 STYLE="page-break-inside: avoid">
		<COL WIDTH=134>
		<COL WIDTH=511>
		<TR VALIGN=TOP>
			<TD WIDTH=134>
				<P>Binaercode</P>
			</TD>
			<TD WIDTH=511>
				<P>1</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=134>
				<P>Beschreibung</P>
			</TD>
			<TD WIDTH=511>
				<P>gibt zu Beginn des <I>long plugin output </I>den Status des
				Child Plugins an<BR>Manche Plugins versaeumen, in ihrem output
				den Status nochmal auszugeben. Ausserdem erhoeht dieses Feature
				die Uebersichtlichkeit bei vielen Child-Plugins in der
				extinfo.cgi oder in der Notification Mail.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=134>
				<P>Beispiel</P>
			</TD>
			<TD WIDTH=511>
				<P STYLE="margin-left: 0.1in; margin-right: 0.1in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
				<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>[16] OK system_ssh -
				SSH OK - OpenSSH_4.4 (protocol 1.99)</FONT></FONT></P>
			</TD>
		</TR>
	</TABLE>
</DIV>
<P><BR><BR>
</P>
<DIV ALIGN=RIGHT>
	<TABLE WIDTH=663 BORDER=1 CELLPADDING=4 CELLSPACING=0 STYLE="page-break-inside: avoid">
		<COL WIDTH=134>
		<COL WIDTH=511>
		<TR VALIGN=TOP>
			<TD WIDTH=134>
				<P>Binaercode</P>
			</TD>
			<TD WIDTH=511>
				<P>2</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=134>
				<P>Beschreibung</P>
			</TD>
			<TD WIDTH=511>
				<P>Im <I>plugin output </I>wird nicht nur eine Summary der Child
				Stati gegeben, sondern auch noch eine Liste der Child Plugins
				angegeben, die den jeweiligen Status erfuellen. Dies gilt jedoch
				nur fuer die Stati UNKNOWN, WARNING und CRITICAL.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=134>
				<P>Beispiel</P>
			</TD>
			<TD WIDTH=511>
				<P STYLE="margin-left: 0.1in; margin-right: 0.1in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
				<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>24 plugins checked, 1
				critical (apache), 1 warning (system_load), 0 unknown, 22 ok</FONT></FONT></P>
			</TD>
		</TR>
	</TABLE>
</DIV>
<P><BR><BR>
</P>
<P STYLE="font-style: normal">Aufrufsyntax:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>-v, --verbose [&lt;level&gt;]</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>specify level of details
in output (level is binary coded)</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>default: 1</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>1: show STATE in front of
each line of plugin output</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>&quot;[16] OK system_ssh -
SSH OK - OpenSSH_4.4 (protocol 1.99)&quot;</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>2: mention service names
in plugin_output, e.g. </FONT></FONT>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=2>&quot;24 plugins checked,
1 critical (http), 0 warning, 0 unknown, 23 ok&quot;</FONT></FONT></P>
<H1 CLASS="western" STYLE="page-break-before: always">4 Diskussion</H1>
<H2 CLASS="western">4.1 Vorteile</H2>
<H3 CLASS="western">4.1.1Performance und Kosteneinsparung</H3>
<P STYLE="margin-bottom: 0in">Der kombinierte Aufruf vieler Plugins
auf dem zu monitorenden Host verlagert einen Gutteil der Arbeit vom
Nagios-Server auf den Client. Damit kann der Nagios-Server viel mehr
Clients monitoren als in der klassischen Variante. 500 Clients mit
jeweils 40 Checks wuerden normalerweise eine Infrastruktur von
mindestens 6 - 10 Servern bedeuten, kann jetzt aber problemlos auf
einem Server betrieben werden. Das spart Kosten und
Administrationsaufwand.</P>
<H3 CLASS="western">4.1.2Verteiltes Monitoring kann wegfallen</H3>
<P STYLE="margin-bottom: 0in">Verteiltes Monitoring bedeutet immer
zusaetzlichen Aufwand fuer die Verteilung der Hosts auf die
Satelliten. Ausserdem ist die Infrastruktur durch die
NSCA-Kommunikation zusaetzlich kompliziert und es entstehen neue
Fehlerquellen. Durch die viel geringere Zahl an Service-Checks kann
in den meisten Umgebungen mit einem einzelnen Nagios-Server
gearbeitet werden. <BR>Die Implementierung von HA bzw. redundantem
Monitoring bleibt davon unberuehrt.</P>
<H3 CLASS="western">4.1.3Die Konfiguration des Plugins mit seinen
Unterchecks kann getrennt vom Nagios-Server erfolgen.<BR><BR><BR>
</H3>
<P STYLE="margin-bottom: 0in">Dadurch erhaelt man zwei Vorteile:</P>
<UL>
	<LI><P STYLE="margin-bottom: 0in">Organisatorische Trennung
	moeglich: Verschiedene Administratoren-gruppen koennen dezentral ihr
	Server-/Applikationsmonitoring selber organisieren und
	konfigurieren. Fuer Aenderungen ist kein Nagios-Neustart mehr
	erforderlich.</P>
	<LI><P STYLE="margin-bottom: 0in">Die komplizierte Konfiguration des
	Nagios-Servers kann in der Hand von Spezialisten bleiben, waehrend
	die einfache Konfiguration des Multi-Plugins vom einzelnen
	Administrator auf dem Client unabhaengig getestet und implementiert
	werden kann.</P>
</UL>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">4.1.4Mischbetrieb moeglich&nbsp;</H3>
<P STYLE="margin-bottom: 0in">Natuerlich sind klassische Checks
weiterhin moeglich, so dass Konstellationen, die mit der neuen
Multi-Mimik nicht implementiert werden koennen, nach wie vor
implementiert werden koennen.</P>
<H3 CLASS="western">4.1.5Alle Informationen auf einen Blick</H3>
<P>Langjaehrige Erfahrung im Monitoring-Betrieb zeigt, dass der Fall
eher selten ist, dass auf einem Host von einander sachlich
unabhaengige Probleme auftreten. Wahrscheinlicher ist eine Verkettung
von Ursachen und Wirkungen, die auf den ersten Blick oft nicht so
leicht zu erkennen ist. 
</P>
<P>Das Konzept des Parent-Checks und seiner Child-Checks bietet nun
die Moeglichkeit in der Notification, ohne weiteren Aufwand einen
Ueberblick ueber sonstige Parameter des jeweiligen Hosts zu erhalten
und auf diese Weise vielleicht schon ohne weitere Recherche die
moegliche Ursache des Problems ermitteln zu koennen.</P>
<P>Beispiel:</P>
<UL>
	<LI><P>Root-Platte vollgelaufen</P>
	<LI><P>dadurch Applikationsfehler aufgetreten</P>
</UL>
<H2 CLASS="western">4.2 Nachteile</H2>
<H3 CLASS="western">4.2.1Nur eine Konfiguration fuer die Child-Checks
</H3>
<P>Alle Child-Checks sind nur mit einer globalen Konfiguration
versehen. Das heisst, dass keine Differenzierung moeglich bei der
Spezifikation von Parametern wie check_interval, retry_interval,
contacts, notification etc. Wenn eine solche Differenzierung
erforderlich ist, so muss ein zusaetzlicher Check konfiguriert
werden.</P>
<H3 CLASS="western">4.2.2Erhoehter Konfigurationsaufwand</H3>
<P>An zwei Stellen ist gegenueber der klassischen Konfiguration
erhoehter Aufwand noetig:</P>
<UL>
	<LI><P>CMD-Datei muss entweder individuell konfiguriert und/oder
	distribuiert werden</P>
	<LI><P>Die Notification erfordert aus Gruenden der
	Uebersichtlichkeit ein angepasstes Script. Ein Beispiel dafuer
	findet sich im Anhang.</P>
</UL>
<P>Diesem erhoehten Aufwand steht eine moegliche Verbesserung durch
eine Trennung von Nagios-Konfiguration und Plugin-Konfiguration
gegenueber (vgl. 4.1.1.2)</P>
<H3 CLASS="western">4.2.3Performance-Daten nicht verfuegbar</H3>
<P>Zum gegenwaertigen Zeitpunkt ist noch keine korrekte
Implementierung verfuegbar, fuer die einzelnen Child-Checks
Performance-Daten zur Verfuegung zu stellen. Selbst wenn dieses in
einem zukuenftigen Release einmal realisiert werden sollte, so stellt
sich die Frage, ob es sinnvoll ist, Performance-Daten aus derart
unterschiedlichen Bereichen zu verknuepfen. 
</P>
<P>Ausserdem muesste noch ein speziell angepasstes Script zur
Verarbeitung der Performance-Daten erstellt werden.</P>
<P>Abhilfe: fuer die Checks, die Performance-Daten liefern sollen,
klassische Service-Checks aufsetzen.</P>
<P><BR><BR>
</P>
<H1 CLASS="western" STYLE="page-break-before: always">5 Anhang</H1>
<H1 CLASS="western">5.1 Screenshots</H1>
<H1 CLASS="western">5.1.1Status with normal plugin output:</H1>
<H3 CLASS="western"><IMG SRC="/local/nagios/check_multi/check_multi_host_details.png" NAME="graphics1" ALIGN=LEFT WIDTH=890 HEIGHT=336 BORDER=0><BR CLEAR=LEFT><BR><BR>
</H3>
<H3 CLASS="western">5.1.2Extended info with long plugin output</H3>
<P><BR><BR>
</P>
<P><IMG SRC="/local/nagios/check_multi/Extended%20Information.png" NAME="graphics2" ALIGN=LEFT WIDTH=1053 HEIGHT=916 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P STYLE="page-break-before: always"><BR><BR>
</P>
<H2 CLASS="western">5.2 Notification script</H2>
<P>notification command definition:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">define
command {</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">command_name
notify-service-by-email</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">command_line
/usr/local/nagios/bin/service_notification | /usr/bin/mail -s
&quot;$NOTIFICATIONTYPE$ Service Alert: $HOSTALIAS$/$SERVICEDESC$ is
$SERVICESTATE$&quot; $CONTACTEMAIL$</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">service_notification:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#!/bin/sh</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#
Notification for Nagios check_multi plugin</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#
(c) 2007, Matthias Flacke</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#---
var</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">NAGIOS_URL=&quot;http://localhost/nagios&quot;</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#---
output</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">cat
&lt;&lt;EOF1</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Nagios
service notification</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">$NAGIOS_NOTIFICATIONTYPE
$NAGIOS_SERVICEDESC $NAGIOS_SERVICESTATE</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">$NAGIOS_LONGDATETIME</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Host information ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Name
$NAGIOS_HOSTNAME</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">IP
address $NAGIOS_HOSTADDRESS</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Service information ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Name
$NAGIOS_SERVICEDESC</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">State
$NAGIOS_SERVICESTATE</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">State
type $NAGIOS_SERVICESTATETYPE</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Output
$NAGIOS_SERVICEOUTPUT</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">EOF1</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#---
print sorted list of output</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">for
i in CRITICAL WARNING UNKNOWN OK; do</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">echo
$NAGIOS_LONGSERVICEOUTPUT | sed 's/\\n/\</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">/g'
| grep $i &gt; /dev/null &amp;&amp; {</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">echo</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">echo
&quot;$i service output&quot;</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">echo
$NAGIOS_LONGSERVICEOUTPUT | sed 's/\\n/\</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">/g'
| grep $i</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">}</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">done</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">#---
continue</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">cat
&lt;&lt;EOF2</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Plugin
$NAGIOS_SERVICECHECKCOMMAND</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Execution
time(s) $NAGIOS_SERVICEEXECUTIONTIME</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Contact information ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Name
$NAGIOS_CONTACTNAME</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Alias
$NAGIOS_CONTACTALIAS</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Mail
address $NAGIOS_CONTACTEMAIL</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Notification
type $NAGIOS_NOTIFICATIONTYPE</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Service URLs ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Service
details
$NAGIOS_URL/cgi-bin/extinfo.cgi?type=2&amp;host=$NAGIOS_HOSTNAME&amp;service=$NAGIOS_SERVICEDESC</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Service
alert history
$NAGIOS_URL/cgi-bin/history.cgi?host=$NAGIOS_HOSTNAME&amp;service=$NAGIOS_SERVICEDESC</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Service
availability
$NAGIOS_URL/cgi-bin/avail.cgi?host=$NAGIOS_HOSTNAME&amp;&amp;service=$NAGIOS_SERVICEDESC&amp;show_log_entries</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Service
comments $NAGIOS_URL$NAGIOS_SERVICENOTESURL</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Host URLs ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Host
details $NAGIOS_URL/cgi-bin/extinfo.cgi?type=1&amp;host=$NAGIOS_HOSTNAME</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Host
services $NAGIOS_URL/cgi-bin/status.cgi?host=dada</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Host
alert history $NAGIOS_URL/cgi-bin/history.cgi?host=$NAGIOS_HOSTNAME</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Host
availability
$NAGIOS_URL/cgi-bin/avail.cgi?host=$NAGIOS_HOSTNAME&amp;show_log_entries</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Host
comments $NAGIOS_URL$NAGIOS_HOSTNOTESURL</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">EOF2</FONT></FONT></P>
<P><BR><BR>
</P>
<P>Notification Output:</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Nagios
service notification</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">PROBLEM
System_nrpe CRITICAL</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Sat
Jun 23 13:34:55 CEST 2007</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Host information ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Name
thinkpad</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">IP
address 192.168.47.21</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Service information ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Name
System_nrpe</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">State
CRITICAL</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">State
type HARD</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Output
SYSTEM CRITICAL - 32 plugins checked, 1 critical (test_sleep), 0
warning, 0 unknown, 31 ok</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">CRITICAL
service output</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
5] CRITICAL test_sleep - SLEEP - CRITICAL: woken up after 2 seconds</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">OK
service output</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
1] OK network_ping - PING OK - Packet loss = 0%, RTA = 0.05 ms</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
2] OK network_interfaces - OK: host 'localhost', interfaces up: 2,
down: 0, dormant: 0, excluded: 0, unused: 0 </FONT></FONT>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
3] OK network_if_eth1 - OK: Interface eth1 (index 4) is up.</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
4] OK network_rsync - TCP OK - 0.001 second response time on port 873
[@RSYNCD: 29]</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
6] OK proc_acpid - PROCS OK: 1 process with command name 'acpid'</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
7] OK proc_automount - PROCS OK: 2 processes with command name
'automount'</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
8] OK proc_cron - PROCS OK: 1 process with command name 'cron'</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[
9] OK proc_httpd - PROCS OK: 11 processes with command name
'httpd2-prefork'</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[10]
OK proc_smartd - PROCS OK: 1 process with command name 'smartd'</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[11]
OK proc_snmpd - PROCS OK: 1 process with command name 'snmpd'</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[12]
OK proc_syslogd - PROCS OK: 1 process with command name 'syslog-ng'</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[13]
OK proc_xinetd - PROCS OK: 1 process with command name 'xinetd'</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[14]
OK procs_number - PROCS OK: 148 processes</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[15]
OK procs_RSS - RSS OK: 146 processes</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[16]
OK procs_zombie - PROCS OK: 1 process with STATE = Z</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[17]
OK system_load - OK - load average: 0.45, 0.57, 0.56</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[18]
OK system_mail - TCP OK - 0.001 second response time on port 25</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[19]
OK system_mailqueue - OK: mailq is empty</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[20]
OK system_mysql - Uptime: 282597 Threads: 1 Questions: 6194 Slow
queries: 0 Opens: 11 Flush tables: 1 Open tables: 6 Queries per
second avg: 0.022</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[21]
OK system_ntp - NTP OK: Offset 10.8233784 secs</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[22]
OK system_portmapper - OK: RPC program portmapper version 2 udp
running</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[23]
OK system_rootdisk - DISK OK - free space: / 5477 MB (47% inode=83%);</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[24]
OK system_ssh - SSH OK - OpenSSH_4.4 (protocol 1.99)</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[25]
OK system_swap - SWAP OK - 100% free (2048 MB out of 2048 MB) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[26]
OK system_syslog - FILE_AGE OK: /var/log/messages is 7 seconds old
and 21158708 bytes</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[27]
OK system_users - USERS OK - 4 users currently logged in </FONT></FONT>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[28]
OK nagios_system - NAGIOS OK: 14 processes, status log updated 31
seconds ago</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[29]
OK nagios_tac - HTTP OK HTTP/1.1 200 OK - 12010 bytes in 0.011
seconds </FONT></FONT>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[30]
OK nagios_ping - PING OK - Packet loss = 0%, RTA = 125.44 ms</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[31]
OK </FONT>n<FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">agios.org_dns
– DNS OK: 0.009 seconds response time. </FONT><A HREF="http://www.nagios.org/"><FONT SIZE=1 STYLE="font-size: 8pt">www.nagios.org</FONT></A>
<FONT SIZE=1 STYLE="font-size: 8pt">returns 66.118.156.22</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">[32]
OK nagios.org_http - HTTP OK HTTP/1.1 200 OK - 28355 bytes in 0.668
seconds </FONT></FONT>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Plugin
check_multi_nrpe!localhost!/usr/local/nagios/etc/check_multi.cmd -n
SYSTEM</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Execution
time(s) 12.417</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Contact information ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Name
nagiosadmin</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Alias
Nagios Admin</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Mail
address </FONT><A HREF="mailto:Matthias@flacke.org"><FONT SIZE=1 STYLE="font-size: 8pt">Nagiosadmin@thinkpad</FONT></A></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">Notification
type PROBLEM</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Service URLs ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Service
details
</FONT><A HREF="http://localhost/nagios/cgi-bin/extinfo.cgi?type=2&amp;host=thinkpad&amp;service=System_nrpe"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios/cgi-bin/extinfo.cgi?type=2&amp;host=thinkpad&amp;service=System_nrpe</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Service
alert history
</FONT><A HREF="http://localhost/nagios/cgi-bin/history.cgi?host=thinkpad&amp;service=System_nrpe"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios/cgi-bin/history.cgi?host=thinkpad&amp;service=System_nrpe</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Service
availability
</FONT><A HREF="http://localhost/nagios/cgi-bin/avail.cgi?host=thinkpad&amp;&amp;service=System_nrpe&amp;show_log_entries"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios/cgi-bin/avail.cgi?host=thinkpad&amp;&amp;service=System_nrpe&amp;show_log_entries</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Service
comments </FONT><A HREF="http://localhost/nagios"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT FACE="Courier 10 Pitch"><FONT SIZE=1 STYLE="font-size: 8pt">---
Host URLs ---</FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Host
details
</FONT><A HREF="http://localhost/nagios/cgi-bin/extinfo.cgi?type=1&amp;host=thinkpad"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios/cgi-bin/extinfo.cgi?type=1&amp;host=thinkpad</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Host
services </FONT><A HREF="http://localhost/nagios/cgi-bin/status.cgi?host=dada"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios/cgi-bin/status.cgi?host=dada</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Host
alert history
</FONT><A HREF="http://localhost/nagios/cgi-bin/history.cgi?host=thinkpad"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios/cgi-bin/history.cgi?host=thinkpad</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Host
availability
</FONT><A HREF="http://localhost/nagios/cgi-bin/avail.cgi?host=thinkpad&amp;show_log_entries"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios/cgi-bin/avail.cgi?host=thinkpad&amp;show_log_entries</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<FONT SIZE=2><FONT FACE="moz-fixed"><FONT SIZE=1 STYLE="font-size: 8pt">Host
comments </FONT><A HREF="http://localhost/nagios"><FONT SIZE=1 STYLE="font-size: 8pt">http://localhost/nagios</FONT></A></FONT></FONT></P>
<P STYLE="margin-left: 0.1in; margin-right: 0.1in; margin-bottom: 0in; background: #e6e6ff; border: 1px solid #000000; padding: 0.02in">
<BR>
</P>
<P><BR><BR>
</P>
</BODY>
</HTML>